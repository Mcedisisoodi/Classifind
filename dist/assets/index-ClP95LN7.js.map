{"version":3,"file":"index-ClP95LN7.js","sources":["../../app.js","../../index.html?html-proxy&index=1.js"],"sourcesContent":["import { createClient } from \"https://esm.sh/@supabase/supabase-js@2\";\n\nconst SUPABASE_URL = \"https://vmgpyjpbxfvnttnjbpsa.supabase.co\";\nconst SUPABASE_KEY = \"sb_publishable_eFTbKKlL1mileWxBduPXDQ_zZDUAtOW\";\n\nexport const supabaseClient = createClient(SUPABASE_URL, SUPABASE_KEY);\nwindow.supabaseClient = supabaseClient;\n\n// --- Auth Functions ---\n\nexport async function signUp(email, password, metadata) {\n    const { data, error } = await supabaseClient.auth.signUp({\n        email,\n        password,\n        options: {\n            data: metadata,\n        },\n    });\n    return { data, error };\n}\n\nexport async function signIn(email, password) {\n    const { data, error } = await supabaseClient.auth.signInWithPassword({\n        email,\n        password,\n    });\n    return { data, error };\n}\n\nexport async function resetPassword(email) {\n    // Note: This sends a password reset link to the email.\n    // The user must click the link to be redirected back to the site to set a new password.\n    // Ensure 'https://classifind.netlify.app' is in your Supabase Redirect URLs.\n    const { data, error } = await supabaseClient.auth.resetPasswordForEmail(email, {\n        redirectTo: 'https://classifind.netlify.app',\n    });\n    return { data, error };\n}\n\nexport async function signOut() {\n    const { error } = await supabaseClient.auth.signOut();\n    return { error };\n}\n\nexport async function getSession() {\n    const { data } = await supabaseClient.auth.getSession();\n    return data.session;\n}\n\n// --- UI Helpers ---\n\nexport function updateAuthUI(session) {\n    const loginBtn = document.getElementById(\"loginBtn\");\n    const signupBtn = document.getElementById(\"signupBtn\");\n    const headerActions = document.querySelector(\".header-actions\");\n\n    // Remove existing user menu if any\n    const existingUserMenu = document.getElementById(\"userMenu\");\n    if (existingUserMenu) existingUserMenu.remove();\n\n    if (session) {\n        if (loginBtn) loginBtn.style.display = \"none\";\n        if (signupBtn) signupBtn.style.display = \"none\";\n\n        const userMenu = document.createElement(\"div\");\n        userMenu.id = \"userMenu\";\n        userMenu.style.display = \"flex\";\n        userMenu.style.alignItems = \"center\";\n        userMenu.style.gap = \"10px\";\n\n        const userEmail = document.createElement(\"span\");\n        userEmail.textContent = session.user.email;\n        userEmail.style.fontSize = \"0.9rem\";\n        userEmail.style.color = \"#fff\";\n\n        const logoutBtn = document.createElement(\"button\");\n        logoutBtn.className = \"btn\";\n        logoutBtn.textContent = \"Logout\";\n        logoutBtn.onclick = async () => {\n            await signOut();\n            window.location.reload();\n        };\n\n        userMenu.appendChild(userEmail);\n        userMenu.appendChild(logoutBtn);\n        \n        // Insert before the \"Post Ad\" button\n        const postAdBtn = document.getElementById(\"postAdBtn\");\n        if (postAdBtn && postAdBtn.parentNode) {\n            postAdBtn.parentNode.insertBefore(userMenu, postAdBtn);\n        } else {\n            headerActions.appendChild(userMenu);\n        }\n    } else {\n        if (loginBtn) loginBtn.style.display = \"inline-block\";\n        if (signupBtn) signupBtn.style.display = \"inline-block\";\n    }\n}\n\n// Initialize Auth State Listener\nsupabaseClient.auth.onAuthStateChange((event, session) => {\n    updateAuthUI(session);\n});\n\n// Check initial session\ngetSession().then(session => {\n    updateAuthUI(session);\n});\n","\n        import { supabaseClient, signIn, signUp, resetPassword } from './app.js';\n\n        // --- Ads Logic ---\n        let ads = [];\n        const adsGrid = document.getElementById(\"adsGrid\");\n        const filterCategory = document.getElementById(\"filterCategory\");\n        const filterSort = document.getElementById(\"filterSort\");\n        const filterCondition = document.getElementById(\"filterCondition\");\n        const filterVerified = document.getElementById(\"filterVerified\");\n        const priceMin = document.getElementById(\"priceMin\");\n        const priceMax = document.getElementById(\"priceMax\");\n        const searchText = document.getElementById(\"searchText\");\n        const searchLocation = document.getElementById(\"searchLocation\");\n        const provinceSelect = document.getElementById(\"provinceSelect\");\n\n        // Province Data\n        const provinceAreas = {\n            \"Gauteng\": [\"Johannesburg\",\"Soweto\",\"Pretoria\",\"Centurion\",\"Sandton\",\"Midrand\",\"Randburg\",\"Roodepoort\",\"Krugersdorp\",\"Alberton\",\"Benoni\",\"Boksburg\",\"Brakpan\",\"Springs\",\"Germiston\",\"Kempton Park\",\"Tembisa\",\"Katlehong\",\"Vosloorus\",\"Mamelodi\",\"Soshanguve\",\"Ga-Rankuwa\",\"Vanderbijlpark\",\"Vereeniging\",\"Heidelberg\",\"Nigel\",\"Cullinan\",\"Bronkhorstspruit\",\"Carletonville\",\"Westonaria\",\"Randfontein\",\"Lenasia\",\"Diepsloot\",\"Tsakane\",\"Daveyton\",\"Edenvale\",\"Bedfordview\"],\n            \"Western Cape\": [\"Cape Town\",\"Bellville\",\"Brackenfell\",\"Durbanville\",\"Goodwood\",\"Parow\",\"Kraaifontein\",\"Kuils River\",\"Mitchells Plain\",\"Khayelitsha\",\"Fish Hoek\",\"Muizenberg\",\"Somerset West\",\"Strand\",\"Gordons Bay\",\"Stellenbosch\",\"Paarl\",\"Wellington\",\"Franschhoek\",\"Worcester\",\"Ceres\",\"Robertson\",\"George\",\"Mossel Bay\",\"Oudtshoorn\",\"Knysna\",\"Plettenberg Bay\",\"Beaufort West\",\"Vredenburg\",\"Saldanha\",\"Malmesbury\",\"Langebaan\"],\n            \"KwaZulu-Natal\": [\"Durban\",\"Umlazi\",\"Chatsworth\",\"Phoenix\",\"Pinetown\",\"Westville\",\"Hillcrest\",\"Kloof\",\"Queensburgh\",\"Umbilo\",\"Isipingo\",\"Umkomaas\",\"Amanzimtoti\",\"Umhlanga\",\"Ballito\",\"Stanger\",\"Richards Bay\",\"Empangeni\",\"Eshowe\",\"Mtunzini\",\"Port Shepstone\",\"Margate\",\"Ramsgate\",\"Harding\",\"Pietermaritzburg\",\"Howick\",\"Mooi River\",\"Greytown\",\"Newcastle\",\"Ladysmith\",\"Estcourt\",\"Vryheid\",\"Dundee\",\"Bergville\"],\n            \"Eastern Cape\": [\"Gqeberha\",\"Uitenhage\",\"Despatch\",\"East London\",\"Mdantsane\",\"King William's Town\",\"Qonce\",\"Bhisho\",\"Butterworth\",\"Mthatha\",\"Queenstown\",\"Aliwal North\",\"Makhanda\",\"Graaff-Reinet\",\"Cradock\",\"Port Alfred\",\"Jeffreys Bay\",\"Humansdorp\",\"Kirkwood\",\"Fort Beaufort\",\"Alice\",\"Stutterheim\",\"Mount Frere\",\"Matatiele\",\"Lusikisiki\",\"Port St Johns\"],\n            \"Free State\": [\"Bloemfontein\",\"Botshabelo\",\"Thaba Nchu\",\"Welkom\",\"Virginia\",\"Hennenman\",\"Odendaalsrus\",\"Kroonstad\",\"Sasolburg\",\"Parys\",\"Vredefort\",\"Phuthaditjhaba\",\"Bethlehem\",\"Reitz\",\"Harrismith\",\"Clocolan\",\"Ladybrand\",\"Ficksburg\",\"Fouriesburg\",\"Warden\",\"Heilbron\",\"Viljoenskroon\",\"Frankfort\",\"Deneysville\"],\n            \"North West\": [\"Mahikeng\",\"Mmabatho\",\"Rustenburg\",\"Klerksdorp\",\"Jouberton\",\"Orkney\",\"Stilfontein\",\"Potchefstroom\",\"Ikageng\",\"Vryburg\",\"Lichtenburg\",\"Zeerust\",\"Schweizer-Reneke\",\"Bloemhof\",\"Christiana\",\"Brits\",\"Hartebeespoort\",\"Mogwase\",\"Sun City\",\"Ventersdorp\",\"Coligny\",\"Swartruggens\"],\n            \"Limpopo\": [\"Polokwane\",\"Seshego\",\"Lebowakgomo\",\"Mankweng\",\"Thohoyandou\",\"Sibasa\",\"Louis Trichardt\",\"Makhado\",\"Musina\",\"Tzaneen\",\"Letsitele\",\"Phalaborwa\",\"Giyani\",\"Malamulele\",\"Burgersfort\",\"Mokopane\",\"Mahwelereng\",\"Modimolle\",\"Bela-Bela\",\"Lephalale\",\"Thabazimbi\",\"Dendron\",\"Botlokwa\"],\n            \"Mpumalanga\": [\"Mbombela\",\"Nelspruit\",\"White River\",\"Hazyview\",\"Sabie\",\"Graskop\",\"Lydenburg\",\"Mashishing\",\"Barberton\",\"Malelane\",\"Komatipoort\",\"Ermelo\",\"Secunda\",\"Trichardt\",\"Bethal\",\"Standerton\",\"Middelburg\",\"eMalahleni\",\"Witbank\",\"Ogies\",\"Delmas\",\"Volksrust\",\"Carolina\",\"Mkhondo\",\"Piet Retief\"],\n            \"Northern Cape\": [\"Kimberley\",\"Barkly West\",\"Warrenton\",\"Jan Kempdorp\",\"Hartswater\",\"Upington\",\"Keimoes\",\"Kakamas\",\"Groblershoop\",\"Prieska\",\"De Aar\",\"Britstown\",\"Victoria West\",\"Strydenburg\",\"Colesberg\",\"Springbok\",\"Okiep\",\"Concordia\",\"Pofadder\",\"Port Nolloth\",\"Alexander Bay\",\"Kuruman\",\"Kathu\",\"Postmasburg\",\"Danielskuil\"]\n        };\n\n        function populateTownsForProvince(province) {\n            searchLocation.innerHTML = \"\";\n            const defaultOption = document.createElement(\"option\");\n            defaultOption.value = \"\";\n            defaultOption.textContent = \"Select Town / City\";\n            searchLocation.appendChild(defaultOption);\n            if (province === \"All provinces\") return;\n            const towns = provinceAreas[province] || [];\n            towns.forEach(town => {\n                const option = document.createElement(\"option\");\n                option.value = town;\n                option.textContent = town;\n                searchLocation.appendChild(option);\n            });\n        }\n\n        provinceSelect.addEventListener(\"change\", () => {\n            populateTownsForProvince(provinceSelect.value);\n            applyFilters();\n        });\n\n        const PLACEHOLDER_IMG = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23cccccc'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='24' fill='%23666666'%3ENo Image%3C/text%3E%3C/svg%3E\";\n\n        function renderAds(list) {\n            adsGrid.innerHTML = \"\";\n            if (!list.length) {\n                adsGrid.innerHTML = \"<p>No ads found. Try changing your filters.</p>\";\n                return;\n            }\n            list.forEach(ad => {\n                const card = document.createElement(\"article\");\n                card.className = \"ad-card\";\n                card.dataset.id = ad.id;\n                \n                const imgDiv = document.createElement(\"div\");\n                imgDiv.className = \"ad-image\";\n                // Use img tag for better object-fit control\n                const img = document.createElement(\"img\");\n                img.src = ad.img || PLACEHOLDER_IMG;\n                img.loading = \"lazy\";\n                imgDiv.appendChild(img);\n\n                const body = document.createElement(\"div\");\n                body.className = \"ad-body\";\n                const price = document.createElement(\"div\");\n                price.className = \"ad-price\";\n                price.textContent = ad.price > 0 ? \"R \" + Number(ad.price).toLocaleString() : \"Price on request\";\n                const title = document.createElement(\"div\");\n                title.className = \"ad-title\";\n                title.textContent = ad.title;\n                const location = document.createElement(\"div\");\n                location.className = \"ad-location\";\n                location.textContent = ad.location + \" â€¢ \" + ad.category;\n                const meta = document.createElement(\"div\");\n                meta.className = \"ad-meta\";\n                meta.textContent = \"Posted: \" + ad.postedAt;\n                body.appendChild(price);\n                body.appendChild(title);\n                body.appendChild(location);\n                body.appendChild(meta);\n                card.appendChild(imgDiv);\n                card.appendChild(body);\n                \n                // Link to Ad Details Page\n                card.addEventListener(\"click\", () => {\n                    window.location.href = `ad-details.html?id=${ad.id}`;\n                });\n                \n                adsGrid.appendChild(card);\n            });\n        }\n\n        async function fetchAdsFromSupabase() {\n            const { data, error } = await supabaseClient\n                .from(\"ads\")\n                .select(\"*\")\n                .order(\"created_at\", { ascending: false });\n            if (error) {\n                console.error(\"Error fetching ads from Supabase:\", error);\n                return;\n            }\n            ads = (data || []).map(row => {\n                // Determine primary image: use first from 'images' array if available, else fallback to 'image_url'\n                let primaryImg = \"\";\n                if (row.images && Array.isArray(row.images) && row.images.length > 0) {\n                    primaryImg = row.images[0];\n                } else {\n                    primaryImg = row.image_url || \"\";\n                }\n\n                return {\n                    id: row.id,\n                    title: row.title,\n                    price: row.price || 0,\n                    category: row.category,\n                    condition: row.condition || \"Used\",\n                    verified: row.verified || false,\n                    location: row.location,\n                    img: primaryImg,\n                    description: row.description,\n                    seller: row.seller_name || (row.contact ? row.contact : \"Private seller\"),\n                    postedAt: row.created_at ? row.created_at.slice(0, 10) : \"\"\n                };\n            });\n            applyFilters();\n        }\n\n        function applyFilters() {\n            let list = [...ads];\n            \n            // Text Search\n            const text = searchText.value.trim().toLowerCase();\n            if (text) {\n                list = list.filter(ad =>\n                    ad.title.toLowerCase().includes(text) ||\n                    ad.description.toLowerCase().includes(text)\n                );\n            }\n\n            // Location Filter (Case Insensitive Fix)\n            const province = provinceSelect.value;\n            const loc = searchLocation.value.toLowerCase();\n            \n            if (province && province !== \"All provinces\") {\n                list = list.filter(ad => {\n                    const adLoc = ad.location.toLowerCase();\n                    const towns = (provinceAreas[province] || []).map(t => t.toLowerCase());\n                    return towns.includes(adLoc) || adLoc.includes(province.toLowerCase());\n                });\n            }\n            \n            if (loc) {\n                list = list.filter(ad => ad.location.toLowerCase() === loc);\n            }\n\n            // Category Filter\n            const cat = filterCategory.value;\n            if (cat) {\n                list = list.filter(ad => ad.category === cat);\n            }\n\n            // Condition Filter\n            const cond = filterCondition.value;\n            if (cond) {\n                list = list.filter(ad => ad.condition === cond);\n            }\n\n            // Verified Filter\n            if (filterVerified.checked) {\n                list = list.filter(ad => ad.verified === true);\n            }\n\n            // Price Range Filter\n            const min = priceMin.value ? Number(priceMin.value) : 0;\n            const max = priceMax.value ? Number(priceMax.value) : Infinity;\n            \n            list = list.filter(ad => {\n                const p = ad.price || 0;\n                return p >= min && p <= max;\n            });\n\n            // Sorting\n            const sort = filterSort.value;\n            if (sort === \"priceLow\") {\n                list.sort((a, b) => (a.price || 0) - (b.price || 0));\n            } else if (sort === \"priceHigh\") {\n                list.sort((a, b) => (b.price || 0) - (a.price || 0));\n            } else if (sort === \"newest\") {\n                list.sort((a, b) => new Date(b.postedAt) - new Date(a.postedAt));\n            }\n            renderAds(list);\n        }\n\n        document.getElementById(\"searchBtn\").addEventListener(\"click\", applyFilters);\n        filterCategory.addEventListener(\"change\", applyFilters);\n        filterSort.addEventListener(\"change\", applyFilters);\n        filterCondition.addEventListener(\"change\", applyFilters);\n        filterVerified.addEventListener(\"change\", applyFilters);\n        priceMin.addEventListener(\"input\", applyFilters);\n        priceMax.addEventListener(\"input\", applyFilters);\n        searchLocation.addEventListener(\"change\", applyFilters);\n        searchText.addEventListener(\"keyup\", (e) => {\n            if (e.key === \"Enter\") applyFilters();\n        });\n        document.getElementById(\"categoryList\").addEventListener(\"click\", (e) => {\n            const card = e.target.closest(\".category-card\");\n            if (!card) return;\n            const cat = card.dataset.category;\n            filterCategory.value = cat;\n            applyFilters();\n            const filtersEl = document.querySelector(\".filters\");\n            if (filtersEl) {\n                window.scrollTo({ top: filtersEl.offsetTop - 60, behavior: \"smooth\" });\n            }\n        });\n\n        // --- Auth Modals Logic ---\n        const loginBtn = document.getElementById(\"loginBtn\");\n        const signupBtn = document.getElementById(\"signupBtn\");\n        const loginBackdrop = document.getElementById(\"loginBackdrop\");\n        const signupBackdrop = document.getElementById(\"signupBackdrop\");\n        const loginClose = document.getElementById(\"loginClose\");\n        const signupClose = document.getElementById(\"signupClose\");\n        const goToSignup = document.getElementById(\"goToSignup\");\n        const goToLogin = document.getElementById(\"goToLogin\");\n        const forgotPassword = document.getElementById(\"forgotPassword\");\n        const signupRole = document.getElementById(\"signupRole\");\n        const bankDetailsSection = document.getElementById(\"bankDetailsSection\");\n\n        if(loginBtn) loginBtn.addEventListener(\"click\", () => loginBackdrop.style.display = \"flex\");\n                if(signupBtn) signupBtn.addEventListener(\"click\", () => {\n            signupBackdrop.style.display = \"flex\";\n            // Reset form state\n            if(signupRole) signupRole.value = \"buyer\";\n            if(bankDetailsSection) bankDetailsSection.classList.add(\"hidden\");\n        });\n        if(loginClose) loginClose.addEventListener(\"click\", () => loginBackdrop.style.display = \"none\");\n        if(signupClose) signupClose.addEventListener(\"click\", () => signupBackdrop.style.display = \"none\");\n        \n        if(goToSignup) goToSignup.addEventListener(\"click\", () => {\n            loginBackdrop.style.display = \"none\";\n            signupBackdrop.style.display = \"flex\";\n            // Reset form state\n            if(signupRole) signupRole.value = \"buyer\";\n            if(bankDetailsSection) bankDetailsSection.classList.add(\"hidden\");\n        });\n        if(goToLogin) goToLogin.addEventListener(\"click\", () => {\n            signupBackdrop.style.display = \"none\";\n            loginBackdrop.style.display = \"flex\";\n        });\n\n        if(signupRole) {\n            signupRole.addEventListener(\"change\", () => {\n                if(signupRole.value === \"seller\") {\n                    bankDetailsSection.classList.remove(\"hidden\");\n                } else {\n                    bankDetailsSection.classList.add(\"hidden\");\n                }\n            });\n        }\n\n        if(forgotPassword) {\n            forgotPassword.addEventListener(\"click\", async () => {\n                const email = prompt(\"Please enter your email address to reset your password:\");\n                if(email) {\n                    const { error } = await resetPassword(email);\n                    if(error) alert(\"Error: \" + error.message);\n                    else alert(\"Password reset link sent to \" + email);\n                }\n            });\n        }\n\n        // Auth Submit\n        document.getElementById(\"loginSubmit\").addEventListener(\"click\", async () => {\n            const email = document.getElementById(\"loginEmail\").value;\n            const password = document.getElementById(\"loginPassword\").value;\n            const { error } = await signIn(email, password);\n            if (error) alert(\"Login failed: \" + error.message);\n            else {\n                loginBackdrop.style.display = \"none\";\n            }\n        });\n\n        document.getElementById(\"signupSubmit\").addEventListener(\"click\", async () => {\n            const email = document.getElementById(\"signupEmail\").value;\n            const password = document.getElementById(\"signupPassword\").value;\n            const confirm = document.getElementById(\"signupPasswordConfirm\").value;\n            \n            if(password !== confirm) {\n                alert(\"Passwords do not match!\");\n                return;\n            }\n\n            const metadata = {\n                first_name: document.getElementById(\"signupName\").value,\n                last_name: document.getElementById(\"signupSurname\").value,\n                address: document.getElementById(\"signupAddress\").value,\n                phone: document.getElementById(\"signupPhone\").value,\n                role: document.getElementById(\"signupRole\").value,\n                bank_details: document.getElementById(\"signupBank\").value\n            };\n\n            const { error } = await signUp(email, password, metadata);\n            if (error) alert(\"Signup failed: \" + error.message);\n            else {\n                alert(\"Account created! Please check your email to verify.\");\n                signupBackdrop.style.display = \"none\";\n            }\n        });\n\n        document.getElementById(\"year\").textContent = new Date().getFullYear();\n        populateTownsForProvince(\"All provinces\");\n        fetchAdsFromSupabase();\n    "],"names":["SUPABASE_URL","SUPABASE_KEY","supabaseClient","createClient","signUp","email","password","metadata","data","error","signIn","resetPassword","signOut","getSession","updateAuthUI","session","loginBtn","signupBtn","headerActions","existingUserMenu","userMenu","userEmail","logoutBtn","postAdBtn","event","ads","adsGrid","filterCategory","filterSort","filterCondition","filterVerified","priceMin","priceMax","searchText","searchLocation","provinceSelect","provinceAreas","populateTownsForProvince","province","defaultOption","town","option","applyFilters","PLACEHOLDER_IMG","renderAds","list","ad","card","imgDiv","img","body","price","title","location","meta","fetchAdsFromSupabase","row","primaryImg","text","loc","adLoc","t","cat","cond","min","max","p","sort","a","b","filtersEl","loginBackdrop","signupBackdrop","loginClose","signupClose","goToSignup","goToLogin","forgotPassword","signupRole","bankDetailsSection","confirm"],"mappings":"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"}